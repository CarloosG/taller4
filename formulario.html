<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Formulario de Registro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
</head>
<body>
    <section class="hero is-primary is-fullheight">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">Registro de Usuario</h1>
                    <form id="registroForm" onsubmit="return validarFormulario()" class="box">
                        <div class="field">
                            <label for="nombre" class="label">Nombre:</label>
                            <div class="control">
                                <input type="text" id="nombre" name="nombre" class="input" required>
                            </div>
                            <p id="nombreError" class="help is-danger"></p>
                        </div>
                        <div class="field">
                            <label for="apellido" class="label">Apellido:</label>
                            <div class="control">
                                <input type="text" id="apellido" name="apellido" class="input" required>
                            </div>
                            <p id="apellidoError" class="help is-danger"></p>
                        </div>
                        <div class="field">
                            <label for="direccion" class="label">Direccion:</label>
                            <div class="control">
                                <input type="text" id="direccion" name="direccion" class="input" required>
                            </div>
                            <p id="direccionError" class="help is-danger"></p>
                        </div>
                        <div class="field">
                            <label for="ccusuario" class="label">CC Usuario:</label>
                            <div class="control">
                                <input type="text" id="ccusuario" name="ccusuario" class="input" required>
                            </div>
                            <p id="ccError" class="help is-danger"></p>
                        </div>
                        <div class="field">
                            <label for="password" class="label">Password:</label>
                            <div class="control">
                                <input type="password" id="password" name="password" class="input" required>
                            </div>
                            <p id="passwordError" class="help is-danger"></p>
                        </div>
                        <div class="field">
                            <label for="confirmPassword" class="label">Confirm password:</label>
                            <div class="control">
                                <input type="password" id="confirmPassword" name="confirmPassword" class="input" required>
                            </div>
                            <p id="confirmPasswordError" class="help is-danger"></p>
                        </div>

                        <div class="field">
                            <label for="email" class="label">Email:</label>
                            <div class="control">
                                <input type="email" id="email" name="email" class="input" required>
                            </div>
                            <p id="emailError" class="help is-danger"></p>
                        </div>
                        
                        <div class="field">
                            <div class="control">
                                <input type="submit" value="Registrar" class="button is-primary">
                            </div>
                        </div>
            </form>
        </div>
    </section>
    <section class="section">
        <div class="container">
            <h1 class="title">Registro de Gustos</h1>

            <form id="registroForm">
                <div class="field">
                    <label class="label" for="colorFavorito">Color Favorito:</label>
                    <div class="control">
                        <input class="input" type="text" id="colorFavorito" name="colorFavorito" disabled>
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="marcaFavorita">Marca de Carro Favorita:</label>
                    <div class="control">
                        <input class="input" type="text" id="marcaFavorita" name="marcaFavorita" disabled>
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="estiloFavorito">Estilo de Carro Favorito:</label>
                    <div class="control">
                        <input class="input" type="text" id="estiloFavorito" name="estiloFavorito" disabled>
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="modeloFavorito">Modelo de Carro Favorito:</label>
                    <div class="control">
                        <input class="input" type="text" id="modeloFavorito" name="modeloFavorito" disabled>
                    </div>
                </div>

                <div class="field">
                  <label class="label" for="precioEquipo">Precio dispuesto a pagar por un automóvil:</label>
                  <div class="control">
                      <input class="slider" type="range" id="precioEquipo" name="precioEquipo" min="0." max="50000" step="100" value="0">
                  </div>
                  <div class="control">
                      <output for="precioEquipo" id="precioOutput">0</output>
                      <label for="precioEquipo">USD</label>
                  </div>
              </div>

                <div class="field">
                    <label class="label">Selecciona una opción:</label>
                    <div class="control">
                        <label class="radio">
                            <input type="radio" name="opcion" value="habilitar" id="habilitarRadio"> Habilitar Registro
                        </label>
                        <label class="radio">
                            <input type="radio" name="opcion" value="deshabilitar" id="deshabilitarRadio" checked> Deshabilitar Registro
                        </label>
                    </div>
                </div>

                

                <div class="field">
                    <div class="control">
                        <button class="button is-primary" type="reset">Guardar</button>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <script>
        function validarFormulario() {

            var nombre = document.getElementById("nombre").value;
            var nombreError = document.getElementById("nombreError");
            if (nombre.length > 25) {
                nombreError.textContent = "El nombre no debe tener mas de 25 caracteres.";
                return false;
            } else {
                nombreError.textContent = "";
            }
            var apellido = document.getElementById("apellido").value;
            var apellidoError = document.getElementById("apellidoError");
            if (apellido.length > 25) {
                apellidoError.textContent = "El apellido no debe tener mas de 25 caracteres.";
                return false;
            }  else {
                apellidoError.textContent = "";
            }
            var direccion = document.getElementById("direccion").value;
            var direccionValida = /^cll|cra|av|anv|trans/.test(direccion);
            var direccionError = document.getElementById("direccionError");
            if (!direccionValida) {
                direccionError.textContent = "La dirección debe empezar por cll, cra, av, anv o trans.";
                return false;
            } else {
                direccionError.textContent = "";
            }
            var ccusuario = document.getElementById("ccusuario").value;
            var ccError = document.getElementById("ccError");

            if (ccusuario.length > 20 || ccusuario.length < 10 || !/^[a-zA-Z0-9]+$/.test(ccusuario)) {
                ccError.textContent = "CC Usuario debe tener entre 10 y 20 caracteres alfanuméricos.";
                return false;
            }else {
                direccionError.textContent = "";
            }

            var password = document.getElementById("password").value;
            var confirmPassword = document.getElementById("confirmPassword").value;
            var passwordError = document.getElementById("passwordError");
            if (password.length > 20 || password.length < 15 || !/^[A-Za-z0-9#%/&]+$/.test(password) || password !== confirmPassword) {
                passwordError.textContent = "La contraseña debe tener entre 15 y 20 caracteres y debe coincidir con el campo de Confirmar Password.";
                return false;
            }else {
               passwordError.textContent = "";
            }
            var email = document.getElementById("email").value;
            var emailError = document.getElementById("emailError");
            if (email.length > 120) {
                emailError.textContent = "El email no debe tener más de 120 caracteres.";
                return false;
            }else {
               emailError.textContent = "";
            }
            return true;
        }

            const form = document.getElementById('registroForm');
            const radioHabilitar = document.getElementById('habilitarRadio');
            const radioDeshabilitar = document.getElementById('deshabilitarRadio');
            const campos = document.querySelectorAll('input[type="text"]');


            radioHabilitar.addEventListener('change', function() {
                if (this.checked) {
                    campos.forEach(function(campo) {
                        campo.disabled = false;
                    });
                }
            });


            radioDeshabilitar.addEventListener('change', function() {
                if (this.checked) {
                    campos.forEach(function(campo) {
                        campo.disabled = true;
                    });
                }
            });

            const slider = document.getElementById('precioEquipo');
            const output = document.getElementById('precioOutput');


            slider.addEventListener('input', function() {
                output.textContent = this.value;
            });
    </script>
</body>
</html>